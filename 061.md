# 61. 🟡 Upgrade DeBridgeRoute, Add support for EVM on Sophon
Date of creation: 11.04.2025

#### DeBridgeRoute

We have deployed a new implementation of DeBridgeRoute as a safe contract upgrade that introduces a new method: simulateSwap. This method is used exclusively by our internal infrastructure to improve route discovery and enhance transaction execution accuracy.

🔒 Security Notice:
The contract maintains the exact same storage layout, ensuring compatibility and eliminating the risk of state corruption or storage collisions.

This upgrade is being applied to the following networks and contract addresses:

- Ethereum 0x7C5CC78333960E787B53C4D292320aE64dc68CFA
- BNB 0x7C5CC78333960E787B53C4D292320aE64dc68CFA
- Optimism 0x7C5CC78333960E787B53C4D292320aE64dc68CFA
- Polygon 0x7C5CC78333960E787B53C4D292320aE64dc68CFA
- Fantom 0x7C5CC78333960E787B53C4D292320aE64dc68CFA
- Base 0x7C5CC78333960E787B53C4D292320aE64dc68CFA
- Arbitrum 0x7C5CC78333960E787B53C4D292320aE64dc68CFA
- Avalanche 0x7C5CC78333960E787B53C4D292320aE64dc68CFA
- Linea 0x7C5CC78333960E787B53C4D292320aE64dc68CFA
- Neon 0x2046E0461d323566714cd9E1f05921cd2DbF87cA

Interact with ProxyAdmin: 0xC86ab72dc6da7eF91a96650f3BC23125cD997130

```
{
  "function": "upgrade(address,address)",
  "params": [
    "0x663DC15D3C1aC63ff12E45Ab68FeA3F0a883C251",
    "0x7C5CC78333960E787B53C4D292320aE64dc68CFA"
  ]
}
```

#### Add Support for EVM on Sophon to deBridgeGate
Interact with: 0x43dE2d77BF8027e25dBD179B491e8d64f38398aA

BASE Interact with: 0xc1656B63D9EEBa6d114f6bE19565177893e5bCBF

```
 setChainSupport(uint256 _chainId, bool _isSupported, bool _isChainFrom) 
_chainId 100000025
_isSupported 1
_isChainFrom 1
```
```
 setChainSupport(uint256 _chainId, bool _isSupported, bool _isChainFrom) 
_chainId 100000025
_isSupported 1
_isChainFrom 0
```


####  Add Support for EVM on Sophon to DLN
Sophon has deployed contract:
DlnSource: '0xA13771CAbd2e44dcA8DeA846cc954D1FbAc0623b',
DlnDestination: '0x422C63dc43E8e98a73c608138fCB69C3eCe1eE47',


```
DlnDestination: 0xE7351Fd770A37282b91D153Ee690B63579D6dd7f
setDlnSourceAddress(uint256 _chainIdFrom, bytes memory _dlnSourceAddress, ChainEngine _chainEngine)
chainId 100000025
_dlnSourceAddress 0xA13771CAbd2e44dcA8DeA846cc954D1FbAc0623b
chainEngine :1 EVM_TYPE
```

```
DlnSource: 0xeF4fB24aD0916217251F553c0596F8Edc630EB66
setDlnDestinationAddress(uint256 _chainIdTo, bytes memory _dlnDestinationAddress,  ChainEngine _chainEngine)
_chainIdTo 100000025
_dlnDestinationAddress 0x422C63dc43E8e98a73c608138fCB69C3eCe1eE47
chainEngine :1 EVM_TYPE
```



## Check that the data from your wallet matches the data in this document.

data to sign:
```
{
  "to": "0x40A2aCCbd92BCA938b02010E17A5b8929b49130D",
  "value": "0",
  "data": "0x8d80ff0a000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000003fd00c86ab72dc6da7ef91a96650f3bc23125cd9971300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000663dc15d3c1ac63ff12e45ab68fea3f0a883c2510000000000000000000000007c5cc78333960e787b53c4d292320ae64dc68cfa0043de2d77bf8027e25dbd179b491e8d64f38398aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006431bf10c10000000000000000000000000000000000000000000000000000000005f5e119000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010043de2d77bf8027e25dbd179b491e8d64f38398aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006431bf10c10000000000000000000000000000000000000000000000000000000005f5e1190000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000e7351fd770a37282b91d153ee690b63579d6dd7f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a4e04542ce0000000000000000000000000000000000000000000000000000000005f5e119000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000014a13771cabd2e44dca8dea846cc954d1fbac0623b00000000000000000000000000ef4fb24ad0916217251f553c0596f8edc630eb66000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a430bb09110000000000000000000000000000000000000000000000000000000005f5e119000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000014422c63dc43e8e98a73c608138fcb69c3ece1ee47000000000000000000000000000000",
  "operation": 1,
  "baseGas": "0",
  "gasPrice": "0",
  "gasToken": "0x0000000000000000000000000000000000000000",
  "refundReceiver": "0x0000000000000000000000000000000000000000",
  "nonce": 61,
  "safeTxGas": "0"
}
```

### 🟡 ETH
[Tenderly](https://dashboard.tenderly.co/public/safe/safe-apps/simulator/2a2b6a1c-81f3-4514-af57-d6f071343c99).   
[Gnosis Safe Tx](https://app.safe.global/transactions/tx?id=multisig_0x6bec1faF33183e1Bc316984202eCc09d46AC92D5_0x194d37c4c46035d4c553dfc6e55503d7e6595afba05acfd2b10bc175161cf590&safe=eth:0x6bec1faF33183e1Bc316984202eCc09d46AC92D5).   
[Executed]()     

### 🟡 BNB
[Tenderly](https://dashboard.tenderly.co/public/safe/safe-apps/simulator/d5155704-5d85-4d21-bd8e-ff1533745e35).   
[Gnosis Safe Tx](https://app.safe.global/transactions/tx?id=multisig_0xA52842cD43fA8c4B6660E443194769531d45b265_0xa47b2c1d8e147ddf74ae1218c475456b1e98866faeed31979d136292c4f2accb&safe=bnb:0xA52842cD43fA8c4B6660E443194769531d45b265).   
[Executed]()     

### 🟡 Polygon
[Tenderly](https://dashboard.tenderly.co/public/safe/safe-apps/simulator/a8fab86d-90ff-45ed-8784-3c4f5234b6a3).   
[Gnosis Safe Tx](https://app.safe.global/transactions/tx?id=multisig_0xA52842cD43fA8c4B6660E443194769531d45b265_0x234b6c95bd6e6243db61d719af64ce5f98b3a880e63a9f2a68abf3f7fd8ec8d7&safe=matic:0xA52842cD43fA8c4B6660E443194769531d45b265).   
[Executed]()     

### 🟡 Arbitrum
[Tenderly](https://dashboard.tenderly.co/public/safe/safe-apps/simulator/e898df99-5e26-47b7-bc1c-2fa1a16b2885).   
[Gnosis Safe Tx](https://app.safe.global/transactions/tx?id=multisig_0xA52842cD43fA8c4B6660E443194769531d45b265_0x51e2c0160d2263d3d0d95ffbdb423edbe8b2fae4e9467bddeaa2deeea183ae59&safe=arb1:0xA52842cD43fA8c4B6660E443194769531d45b265).   
[Executed]()     

### 🟡 Avalanche
[Tenderly](https://dashboard.tenderly.co/public/safe/safe-apps/simulator/10aaeb96-374b-4bb5-944d-7714aa53345c).   
[Gnosis Safe Tx](https://app.safe.global/transactions/tx?id=multisig_0x8AC842e8f3be6BF67ccfdC87CE3F98D635008Ef0_0x039d827c87fa5159cf9062d906223b08a77d3df468da88ace53bbfb61da61ac1&safe=avax:0x8AC842e8f3be6BF67ccfdC87CE3F98D635008Ef0).   
[Executed]()     

### 🟡 Fantom Safe is not working 
[Tenderly]().   
[Gnosis Safe Tx]().   
[Executed]()     



### 🟡 Linea
[Tenderly](https://dashboard.tenderly.co/public/safe/safe-apps/simulator/57150b62-368b-458e-b002-1e64008d3209).   
[Gnosis Safe Tx](https://app.safe.global/transactions/tx?id=multisig_0xA52842cD43fA8c4B6660E443194769531d45b265_0x1b0f70e3c4a1310678215b71219963ba4b13c9b31398760a6573702540dce686&safe=linea:0xA52842cD43fA8c4B6660E443194769531d45b265).   
[Executed]()     


### 🟡 Base
data to sign:
```
{
  "to": "0xA1dabEF33b3B82c7814B6D82A79e50F4AC44102B",
  "value": "0",
  "data": "0x8d80ff0a000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000003fd00c86ab72dc6da7ef91a96650f3bc23125cd9971300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000663dc15d3c1ac63ff12e45ab68fea3f0a883c2510000000000000000000000007c5cc78333960e787b53c4d292320ae64dc68cfa00c1656b63d9eeba6d114f6be19565177893e5bcbf0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006431bf10c10000000000000000000000000000000000000000000000000000000005f5e1190000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100c1656b63d9eeba6d114f6be19565177893e5bcbf0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006431bf10c10000000000000000000000000000000000000000000000000000000005f5e1190000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000e7351fd770a37282b91d153ee690b63579d6dd7f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a4e04542ce0000000000000000000000000000000000000000000000000000000005f5e119000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000014a13771cabd2e44dca8dea846cc954d1fbac0623b00000000000000000000000000ef4fb24ad0916217251f553c0596f8edc630eb66000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a430bb09110000000000000000000000000000000000000000000000000000000005f5e119000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000014422c63dc43e8e98a73c608138fcb69c3ece1ee47000000000000000000000000000000",
  "operation": 1,
  "baseGas": "0",
  "gasPrice": "0",
  "gasToken": "0x0000000000000000000000000000000000000000",
  "refundReceiver": "0x0000000000000000000000000000000000000000",
  "nonce": 24,
  "safeTxGas": "0"
}
```
[Tenderly](https://dashboard.tenderly.co/public/safe/safe-apps/simulator/3d96bcfb-bb23-43ea-a941-0c76a756cc29).   
[Gnosis Safe Tx](https://app.safe.global/transactions/tx?id=multisig_0xF0A9d50F912D64D1105b276526e21881bF48A29e_0xe98b3c93637310773faeef6839a5c0a6c4d54c800e4626b7b19f3c363aa47ec2&safe=base:0xF0A9d50F912D64D1105b276526e21881bF48A29e).   
[Executed]()     


### 🟡 OPTIMISM
[Tenderly](https://dashboard.tenderly.co/public/safe/safe-apps/simulator/664f21c1-285d-4b7a-85a6-0ce6c3f5b1f2).   
[Gnosis Safe Tx](https://app.safe.global/transactions/tx?id=multisig_0xA52842cD43fA8c4B6660E443194769531d45b265_0x82a07672e330844ad9872fd2f94f3607bac6602c657d4abce244ccd91167dadf&safe=oeth:0xA52842cD43fA8c4B6660E443194769531d45b265).   
[Executed]()     
