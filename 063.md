# 63. 游리  ?????
Date of creation: 09.07.2025

#### Upgrade FeeProxy up to 4.1.0
4.1.0 Introduced the FEE_COLLECTOR role, which enables protocol rewards to be withdrawn to the designated fee collector wallet.
Interact with ProxyAdmin: 0xE4427af3555CD9303D728C491364FAdFDD7494Fe    
FeeProxy 0xC2bAC0DB5B18B0c3225581Ba14BD0B448c623636     
New implementation 0xa1cc7E623423169e1C10e6e5CC8Ae6f1d11042DE     
```
function upgrade(TransparentUpgradeableProxy proxy, address implementation) 
 proxy: 0xC2bAC0DB5B18B0c3225581Ba14BD0B448c623636
 implementation: 0xa1cc7E623423169e1C10e6e5CC8Ae6f1d11042DE
```

Adding the feeCollector wallet 0x391276932b5105c2db8ee928dfd8872564d6d246 to the FEE_COLLECTOR role 0x2dca0f5ce7e75a4b43fe2b0d6f5d0b7a2bf92ecf89f8f0aa17b8308b67038821 in FeeProxy
```
function grantRole(bytes32 role, address account) 
role: 0x2dca0f5ce7e75a4b43fe2b0d6f5d0b7a2bf92ecf89f8f0aa17b8308b67038821
account: 0x391276932b5105c2db8ee928dfd8872564d6d246
```

#### Upgrade DlnSource up to 1.5.0
1.5.0 Introduced the FEE_COLLECTOR role, which enables protocol rewards to be withdrawn to the designated fee collector wallet.
TODO: describe changes 

Interact with ProxyAdmin: 0xa7b88a746fa457578d5abd6234471f07d895f46b     
DlnSource Proxy  0xeF4fB24aD0916217251F553c0596F8Edc630EB66    
New implementation 0xbF20cB9614a0059bBe4b599d1D04358aFe31eDfb      
```
 function upgrade(TransparentUpgradeableProxy proxy, address implementation) 
 proxy: 0xeF4fB24aD0916217251F553c0596F8Edc630EB66
 implementation: 0xbF20cB9614a0059bBe4b599d1D04358aFe31eDfb
```

Adding the feeCollector wallet 0x391276932b5105c2db8ee928dfd8872564d6d246 to the FEE_COLLECTOR role 0x2dca0f5ce7e75a4b43fe2b0d6f5d0b7a2bf92ecf89f8f0aa17b8308b67038821 in DlnSource
```
function grantRole(bytes32 role, address account) 
role: 0x2dca0f5ce7e75a4b43fe2b0d6f5d0b7a2bf92ecf89f8f0aa17b8308b67038821
account: 0x391276932b5105c2db8ee928dfd8872564d6d246
```

#### Upgrade DlnExternalCallAdapter up to 1.1.0
Interact with ProxyAdmin: 0xA7b88A746FA457578D5abd6234471f07D895F46b         
DlnExternalCallAdapter Proxy 0x61eF2e01E603aEB5Cd96F9eC9AE76cc6A68f6cF9      
New implementation 0x7EA200f06c17cB9f64A3c8973a76DD8359fd68FA       
```
 function upgrade(TransparentUpgradeableProxy proxy, address implementation) 
 proxy: 0x61eF2e01E603aEB5Cd96F9eC9AE76cc6A68f6cF9
 implementation: 0x7EA200f06c17cB9f64A3c8973a76DD8359fd68FA
```




#### Add Support for EVM on TRON to deBridgeGate
Interact with: 0x43dE2d77BF8027e25dBD179B491e8d64f38398aA

BASE Interact with: 0xc1656B63D9EEBa6d114f6bE19565177893e5bCBF

```
 setChainSupport(uint256 _chainId, bool _isSupported, bool _isChainFrom) 
_chainId 100000026
_isSupported 1
_isChainFrom 1
```
```
 setChainSupport(uint256 _chainId, bool _isSupported, bool _isChainFrom) 
_chainId 100000026
_isSupported 1
_isChainFrom 0
```


####  Add Support for EVM on TRON to DLN
TRON has deployed contract:
DlnSource: '0xE6f924E3C42350684aF70F798c3cA2533A4c5Bd0'
DlnDestination: '0xe8E2948B1E24E05C017aca0dCe44630595c464eb'


```
DlnDestination: 0xE7351Fd770A37282b91D153Ee690B63579D6dd7f
setDlnSourceAddress(uint256 _chainIdFrom, bytes memory _dlnSourceAddress, ChainEngine _chainEngine)
chainId 100000026
_dlnSourceAddress 0xE6f924E3C42350684aF70F798c3cA2533A4c5Bd0
chainEngine :1 EVM_TYPE
```

```
DlnSource: 0xeF4fB24aD0916217251F553c0596F8Edc630EB66
setDlnDestinationAddress(uint256 _chainIdTo, bytes memory _dlnDestinationAddress,  ChainEngine _chainEngine)
_chainIdTo 100000026
_dlnDestinationAddress 0xe8E2948B1E24E05C017aca0dCe44630595c464eb
chainEngine :1 EVM_TYPE
```

#### Upgrade DeBridgeRouter up to 3.1.0
Interact with ProxyAdmin: 0xC86ab72dc6da7eF91a96650f3BC23125cD997130          
DeBridgeRouter Proxy 0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251       
New implementation 0x3c857eD51c8a2747EE8c6F30EdDA5ea0D487CC64   
```
 function upgrade(TransparentUpgradeableProxy proxy, address implementation) 
 proxy: 0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251
 implementation: 0x3c857eD51c8a2747EE8c6F30EdDA5ea0D487CC64
```

### setup DeBridgeRouter
Interact with DeBridgeRouter: 0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251      
Set treasuryAddress 0x391276932b5105c2db8ee928dfd8872564d6d246 and sameChainSwapFee (8bps)
```
function updateFeeTreasury(address _feeTreasury) 
 _feeTreasury: 0x391276932b5105c2db8ee928dfd8872564d6d246

function updateSwapVariableFeeBps(
      uint16 _swapVariableFeeBps
    ) 
_swapVariableFeeBps: 8
```

#### Add supported OKX router
Interact with DeBridgeRouter: 0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251
```
 function updateSupportedRouter(
        address _srcSwapRouter,
        bool _isSupported
    ) 
    
  function updateAllowanceAggregator(
        address _router,
        address _allowanceAggregator
    )  
```

```
Ethereum
OKX DEX 0x6088d94C5a40CEcd3ae2D4e0710cA687b91c61d0
AllowanceHolder 0x40aA958dd87FC8305b97f2BA922CDdCa374bcD7f

Arbitrum
OKX DEX 0x6088d94C5a40CEcd3ae2D4e0710cA687b91c61d0
AllowanceHolder 0x70cBb871E8f30Fc8Ce23609E9E0Ea87B6b222F58

Optimism
OKX DEX 0x9b9efa5Efa731EA9Bbb0369E91fA17Abf249CFD4
AllowanceHolder 0x68D6B739D2020067D1e2F713b999dA97E4d54812

Polygon
OKX DEX 0x9b9efa5Efa731EA9Bbb0369E91fA17Abf249CFD4
AllowanceHolder 0x3B86917369B83a6892f553609F3c2F439C184e31

BNB
OKX DEX 0x9b9efa5Efa731EA9Bbb0369E91fA17Abf249CFD4
AllowanceHolder 0x2c34A2Fb1d0b4f55de51E1d0bDEfaDDce6b7cDD6

Avalanche
OKX DEX 0x9b9efa5Efa731EA9Bbb0369E91fA17Abf249CFD4
AllowanceHolder 0x40aA958dd87FC8305b97f2BA922CDdCa374bcD7f

Base
OKX DEX 0x9b9efa5Efa731EA9Bbb0369E91fA17Abf249CFD4
AllowanceHolder 0x57df6092665eb6058DE53939612413ff4B09114E

Linea
OKX DEX 0x06f183D52D92c13a5f2B989B8710BA7F00bd6f87
AllowanceHolder 0x57df6092665eb6058DE53939612413ff4B09114E

Fantom
OKX DEX 0xd30D8CA2E7715eE6804a287eB86FAfC0839b1380
AllowanceHolder 0x70cBb871E8f30Fc8Ce23609E9E0Ea87B6b222F58
```



#### Upgrade Subscription up to 1.1.0
Interact with ProxyAdmin: 0xE4427af3555CD9303D728C491364FAdFDD7494Fe          
Subscription Proxy 0x2328Ee20fA271073328DC94e52Dd5b61aa0C91A7        
New implementation 0xDdF80e5f85443AC9041e42F64C8F41482F6380CF    
```
 function upgrade(TransparentUpgradeableProxy proxy, address implementation) 
 proxy: 0x2328Ee20fA271073328DC94e52Dd5b61aa0C91A7 
 implementation: 0xDdF80e5f85443AC9041e42F64C8F41482F6380CF   
```




### 游리 ETH
data to sign:
```

```
[Tenderly](https://dashboard.tenderly.co/public/safe/safe-apps/simulator/3810b480-6d7e-4bec-8e8e-c0d5fab5579c).   
[Gnosis Safe Tx]().   
游리[Executed]()     

### 游리 BNB
data to sign:
```

```
[Tenderly]().   
[Gnosis Safe Tx]().   
游리[Executed]()     

### 游리 Polygon
data to sign:
```

```
[Tenderly]().   
[Gnosis Safe Tx]().   
游리[Executed]()     


### 游리 Arbitrum
data to sign:
```

```
[Tenderly]().   
[Gnosis Safe Tx]().   
游리[Executed]()     

### 游리 Avalanche
data to sign:
```

```
[Tenderly]().   
[Gnosis Safe Tx]().   
游리[Executed]()     

### 游리 Fantom Safe is not working 



### 游리 Linea
data to sign:
```

```
[Tenderly]().   
[Gnosis Safe Tx]().   
游리[Executed]()     


### 游리 Base
data to sign:
```

```
[Tenderly]().   
[Gnosis Safe Tx]().   
游리[Executed]()     


### 游리 OPTIMISM
data to sign:
```

```
[Tenderly]().   
[Gnosis Safe Tx]().   
游리[Executed]()     
